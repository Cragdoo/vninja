<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Using the WANem WAN Emulator Virtual Appliance  &middot; Adventures in Hugo</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="There is a thin line between agile and fragile" />

<meta name="keywords" content="Free Tools, Networking, Ops, Simulation, vCenter, Virtual Appliance, VMware, ">


<meta property="og:title" content="Using the WANem WAN Emulator Virtual Appliance  &middot; Adventures in Hugo ">
<meta property="og:site_name" content="Adventures in Hugo"/>
<meta property="og:url" content="/network/using-the-wanem-wan-emulator-virtual-appliance/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2010-08-26T11:38:00Z" />
<meta property="og:article:modified_time" content="2010-08-26T11:38:00Z" />

  
    
<meta property="og:article:tag" content="Free Tools">
    
<meta property="og:article:tag" content="Networking">
    
<meta property="og:article:tag" content="Ops">
    
<meta property="og:article:tag" content="Simulation">
    
<meta property="og:article:tag" content="vCenter">
    
<meta property="og:article:tag" content="Virtual Appliance">
    
<meta property="og:article:tag" content="VMware">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="Using the WANem WAN Emulator Virtual Appliance" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="/network/using-the-wanem-wan-emulator-virtual-appliance/" />
<meta name="twitter:domain" content="/">
  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Using the WANem WAN Emulator Virtual Appliance",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2010-08-26",
    "description": "",
    "wordCount": 320
  }
</script>
  



<link rel="canonical" href="/network/using-the-wanem-wan-emulator-virtual-appliance/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
<link rel="icon" href="/favicon.png">
<meta name="generator" content="Hugo 0.40.3" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="/css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">




  <link rel="stylesheet" href="/css/highlight/default.css">


</head>
<body data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
          
          <a class="navbar-brand-img" href="/">
            <img alt="" src="">
            
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            
              
          </ul>
        </div>
        
      </div>
    </nav>
  </header>





<div class="container">
  <div class="row">
    <div class="col-sm-12">


      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
<header class="container hat">
  <h1>Using the WANem WAN Emulator Virtual Appliance
</h1>

</header>
</div>


      <div class="content">
  

<p>During preparation and preliminary information gathering for a new internal project, I had a need to emulate various networking conditions and scenarios. More specifically I&rsquo;m looking at the possibility of running the vCenter Client over high latency satellite links, with varying bandwidth availability and even packet loss scenarios.</p>

<p>Obviously the best way of testing this, in a controlled environment, is to use some kind of WAN emulator that lets you control the various networking characteristics. <a href="http://wanem.sourceforge.net/">WANem</a> is a free WAN emulator and it even comes as a VMware <a href="http://wanem.sourceforge.net/">virtual appliance</a>.</p>

<p>Setup is pretty straight forward, and I won&rsquo;t get into the detailed instructions at this point. If someone requests it, perhaps I&rsquo;ll make a <em>HOWTO</em> post later on.</p>

<p>After the WANem Virtual Appliance has been started and setup in your network environment, all you have to do is to route your traffic through it. In my test environment, I decided to route all traffic between my local computer and my vCenter Server through the WANem appliance. Doing so is pretty straight forward; Open up a cmd window, with administrator privileges, on your local computer and use the route command to force traffic through WANem:</p>

<p><a href="http://vninja.net/wordpress/wp-content/uploads/2010/08/WANem-AddRoute.png rel="><img src="http://vninja.net/wordpress/wp-content/uploads/2010/08/WANem-AddRoute-300x125.png" alt="" /></a></p>

<p>the command itself is:
<strong><em>route add {destination IP} mask 255.255.255.255 {WANem IP}</em></strong></p>

<p>To tune the network properties of the traffic going through WANem, open the WANem admin page in your browser and work some magic. The screenshots below are from the <strong>advanced tab</strong>:</p>

<p><a href="http://vninja.net/wordpress/wp-content/uploads/2010/08/WANem-Advanced1.png"><img src="http://vninja.net/wordpress/wp-content/uploads/2010/08/WANem-Advanced1-300x220.png" alt="WANem Advanced Mode Screenshot #1" /></a><a href="http://vninja.net/wordpress/wp-content/uploads/2010/08/WANem-Advanced2.png"><img src="http://vninja.net/wordpress/wp-content/uploads/2010/08/WANem-Advanced2-300x220.png" alt="WANem Advanced Mode Screenshot #2" /></a></p>

<p>As a simple test, I decided to add <strong>500ms latency</strong> (delay time) and a <strong>packet loss of 25%</strong>, and as you can see from the video below it works as expected</p>

<p>(Video has been scaled to fit, watch it in fullscreen mode for details).</p>

<h4 id="conclusion">Conclusion</h4>

<p>If you need to test out how your applications or networking infrastructure works when issues like latency, jitter and even dropped packets affects your clients, WANem seems like an easy and free route (pun intended) for testing purposes.</p>

</div>


      
    </div>
    
  </div>
</div>
    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
</small>
</div>


    
<div class="container copyright">
    <small>
  &copy; Christian Mohn

  </small>
</div>



        </div>
    </div>
  </div>
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>



<script src="//load.sumome.com/" data-sumo-site-id="" async="async"></script>

<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>


<script src="/js/highlight.pack.js"></script>
<script src="/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
var ENABLE_POPOVER = "", 
EXPIRE_COOKIE = "", 
SHOW_MODAL_TIMEOUT = "", 
MOUSE_LEAVE = "", 
MODAL_SIZE = "", 
POST_URL = "", 
SIGNUP_HEADER = "",
HEADER_IMAGE = "",
IMG_DESCRIPTION = "",
SIGNUP_TEXT = "",
INPUT_PLACEHOLDER = "",
SUBMIT_BUTTON = "",
SUCCESS_MESSAGE = "",
ERROR_MESSAGE = "",
OPTIN = "",
COOKIE_NAME = "",
CONTENTLANGUAGE = ""; 
</script>





<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//MathJax.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//config/TeX-AMS-MML_HTMLorMML.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    for(var all in MathJax.Hub.getAllJax()) {
        all.SourceElement().parentNode.className += ' has-jax';

    }
});
</script>






  </body>
</html>

