<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>vSphere 5: Creating a Hardware Version 4 VM  &middot; Adventures in Hugo</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="There is a thin line between agile and fragile" />

<meta name="keywords" content="EasyVNX, ESX, ESX 3.5, ESXi, Hardware Version, VMware, vSphere, workaround, ">


<meta property="og:title" content="vSphere 5: Creating a Hardware Version 4 VM  &middot; Adventures in Hugo ">
<meta property="og:site_name" content="Adventures in Hugo"/>
<meta property="og:url" content="/virtualization/vsphere-5-creating-hardware-version-4-vm/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2012-07-02T19:50:03Z" />
<meta property="og:article:modified_time" content="2012-07-02T19:50:03Z" />

  
    
<meta property="og:article:tag" content="EasyVNX">
    
<meta property="og:article:tag" content="ESX">
    
<meta property="og:article:tag" content="ESX 3.5">
    
<meta property="og:article:tag" content="ESXi">
    
<meta property="og:article:tag" content="Hardware Version">
    
<meta property="og:article:tag" content="VMware">
    
<meta property="og:article:tag" content="vSphere">
    
<meta property="og:article:tag" content="workaround">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="vSphere 5: Creating a Hardware Version 4 VM" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="/virtualization/vsphere-5-creating-hardware-version-4-vm/" />
<meta name="twitter:domain" content="/">
  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "vSphere 5: Creating a Hardware Version 4 VM",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2012-07-02",
    "description": "",
    "wordCount": 393
  }
</script>
  



<link rel="canonical" href="/virtualization/vsphere-5-creating-hardware-version-4-vm/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
<link rel="icon" href="/favicon.png">
<meta name="generator" content="Hugo 0.40.3" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="/css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">




  <link rel="stylesheet" href="/css/highlight/default.css">


</head>
<body data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
          
          <a class="navbar-brand-img" href="/">
            <img alt="" src="">
            
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            
              
          </ul>
        </div>
        
      </div>
    </nav>
  </header>





<div class="container">
  <div class="row">
    <div class="col-sm-12">


      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
<header class="container hat">
  <h1>vSphere 5: Creating a Hardware Version 4 VM
</h1>

</header>
</div>


      <div class="content">
  <p>I recently had a need to create a VM for usage on ESX 3.x, but the only thing available to me in my lab was vSphere 5, which naturally creates new VMs with the latest and greatest version 8 virtual hardware.</p>

<p>The following table lists the virtual hardware versions and the corresponding ESX and ESXi releases:
<table cellpadding="0" cellspacing="0" >
<tbody >
<tr ></p>

<p><td ><strong>Version</strong>
</td></p>

<p><td ><strong>Virtual Hardware Version</strong>
</td>
</tr>
<tr ></p>

<p><td >ESXi 5.x
</td></p>

<p><td >8
</td>
</tr>
<tr ></p>

<p><td >ESX/ESXi 4.x
</td></p>

<p><td >7
</td>
</tr>
<tr ></p>

<p><td >ESX 3.x
</td></p>

<p><td >4
</td>
</tr>
<tr ></p>

<p><td >ESX 2.x
</td></p>

<p><td >3
</td>
</tr>
</tbody>
</table>
Naturally, an ESXi 5.x host can run VMs created with older hardware versions but it is not possible (through the vSphere Client) to create a new VM with an old hardware version, and I needed to create a v4 VM for later export to an ESX 3.x host.</p>

<p>Of course, I could have created the VM on the ESX host that it was supposed to run on on the first place, but the host in question was unavailable at the time and the plam was to prepare the VM off site before deployment in the production environment.</p>

<p>Since I did not have a valid license for ESX 3.5 any more, the easiest way I found to create a hardware version 4 VM, and configure it on vSphere 5, was to use <a href="http://www.easyvmx.com/">Easy VMX</a> to create the basic VM (vmx file) instead of hacking away at creating it manually.</p>

<p>Easy VMX created the .VMX file that I needed to register a hardware version 4 VM to a ESXi 5.x host, and edit it through the vCenter client. Of course, it creates disk files that are incompatible with ESX but thatÂ´s of no concern as you can just remove the invalid devices and add new ones through the vCenter client.</p>

<p>All in all this little &ldquo;trick&rdquo; worked without a hitch, and the small Linux machine I had set up for the client worked perfectly when deployed on the old ESX 3.5 install.</p>

<p>Of course, the best option would be to reinstall the old ESX 3.5 host with ESXi 5, but as this was a system due to be decommissioned very soon that was not a real option for the client. The main purpose of the VM I created was to act as an alerting system for incoming email, warning that the email addresses had changed to a new domain, and emails sent to the old one would not be read or acted upon.</p>

</div>


      
    </div>
    
  </div>
</div>
    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
</small>
</div>


    
<div class="container copyright">
    <small>
  &copy; Christian Mohn

  </small>
</div>



        </div>
    </div>
  </div>
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>



<script src="//load.sumome.com/" data-sumo-site-id="" async="async"></script>

<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>


<script src="/js/highlight.pack.js"></script>
<script src="/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
var ENABLE_POPOVER = "", 
EXPIRE_COOKIE = "", 
SHOW_MODAL_TIMEOUT = "", 
MOUSE_LEAVE = "", 
MODAL_SIZE = "", 
POST_URL = "", 
SIGNUP_HEADER = "",
HEADER_IMAGE = "",
IMG_DESCRIPTION = "",
SIGNUP_TEXT = "",
INPUT_PLACEHOLDER = "",
SUBMIT_BUTTON = "",
SUCCESS_MESSAGE = "",
ERROR_MESSAGE = "",
OPTIN = "",
COOKIE_NAME = "",
CONTENTLANGUAGE = ""; 
</script>





<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//MathJax.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//config/TeX-AMS-MML_HTMLorMML.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    for(var all in MathJax.Hub.getAllJax()) {
        all.SourceElement().parentNode.className += ' has-jax';

    }
});
</script>






  </body>
</html>

