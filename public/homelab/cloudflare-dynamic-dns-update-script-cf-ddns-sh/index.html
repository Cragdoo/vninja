<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="CloudFlare Dynamic DNS Update Script (cf-ddns.sh)" />
<meta property="og:description" content="As a part of myHomelab project, I&rsquo;ve created a proper bash script to provide dynamic DNS updates for external resources, via CloudFlare. More details on the reasoning behind it can be found in Using CloudFlare for Dynamic DNS, but since that was posted I&rsquo;ve fleshed the script out quite a bit more.
The new and updated script can be found on GitHub: cf-ddns.sh. It now writes events to syslog when it runs, so you can use VMware Log Insight (or another log solution) to capture the events, and use it to track public IP changes if you want." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/homelab/cloudflare-dynamic-dns-update-script-cf-ddns-sh/" />



<meta property="article:published_time" content="2016-08-13T09:45:13&#43;00:00"/>

<meta property="article:modified_time" content="2016-08-13T09:45:13&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CloudFlare Dynamic DNS Update Script (cf-ddns.sh)"/>
<meta name="twitter:description" content="As a part of myHomelab project, I&rsquo;ve created a proper bash script to provide dynamic DNS updates for external resources, via CloudFlare. More details on the reasoning behind it can be found in Using CloudFlare for Dynamic DNS, but since that was posted I&rsquo;ve fleshed the script out quite a bit more.
The new and updated script can be found on GitHub: cf-ddns.sh. It now writes events to syslog when it runs, so you can use VMware Log Insight (or another log solution) to capture the events, and use it to track public IP changes if you want."/>
<meta name="generator" content="Hugo 0.40.3" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "CloudFlare Dynamic DNS Update Script (cf-ddns.sh)",
  "url": "/homelab/cloudflare-dynamic-dns-update-script-cf-ddns-sh/",
  "wordCount": "166",
  "datePublished": "2016-08-13T09:45:13&#43;00:00",
  "dateModified": "2016-08-13T09:45:13&#43;00:00",
  "author": {
    "@type": "Person",
    "name": "cmohn"
  },
  "keywords": "Homelab, Bash, Cloudflare, Dynamic DNS, Scripting"
}
</script>



    <link rel="canonical" href="/homelab/cloudflare-dynamic-dns-update-script-cf-ddns-sh/">

    <title>CloudFlare Dynamic DNS Update Script (cf-ddns.sh) | Adventures in Hugo</title>

    <!-- combined, minified CSS -->
    <link href="/css/style.css" rel="stylesheet" integrity="sha384-NnQTHLV1boeEOT&#43;VkddkaZe9ipwgoxh1CLY2U3LM36/GQpTS/1l4lL/5LnWh02Wk" crossorigin="anonymous">

    

    

    

    

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="/">Home</a>
          
          <a class="nav-link" href="https://example.org" title="">Link 1</a>
          
        </nav>
      </div>
    </div>
    

    
    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title"><a href="/" rel="home">Adventures in Hugo</a></h1>
        <p class="lead blog-description">There is a thin line between agile and fragile</p>
      </div>
    </header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="/homelab/cloudflare-dynamic-dns-update-script-cf-ddns-sh/">CloudFlare Dynamic DNS Update Script (cf-ddns.sh)</a></h2>
    <p class="blog-post-meta"><time datetime="2016-08-13T09:45:13Z">Sat Aug 13, 2016</time> by cmohn in 
<i class="fa fa-folder" aria-hidden="true"></i>&nbsp;<a href="/categories/homelab" rel="category tag">Homelab</a>


<i class="fa fa-tag" aria-hidden="true"></i>&nbsp;<a href="/tags/bash" rel="tag">Bash</a>, <a href="/tags/cloudflare" rel="tag">Cloudflare</a>, <a href="/tags/dynamic-dns" rel="tag">Dynamic DNS</a>, <a href="/tags/homelab" rel="tag">Homelab</a>, <a href="/tags/scripting" rel="tag">Scripting</a>

</p>
  </header>
  <p>As a part of my<a href="http://vninja.net/homelab/"> Homelab</a> project, I&rsquo;ve created a proper bash script to provide dynamic DNS updates for external resources, via CloudFlare. More details on the reasoning behind it can be found in <a href="http://vninja.net/homelab/using-cloudflare-for-dynamic-dns/">Using CloudFlare for Dynamic DNS</a>, but since that was posted I&rsquo;ve fleshed the script out quite a bit more.</p>

<p>The new and updated script can be found on GitHub: <a href="https://github.com/h0bbel/homelab/blob/master/code/cf-ddns.sh">cf-ddns.sh</a>. It now writes events to syslog when it runs, so you can use <a href="https://www.vmware.com/products/vrealize-log-insight.html">VMware Log Insight</a> (or another log solution) to capture the events, and use it to track public IP changes if you want. I&rsquo;ve also added a <em>-f</em> parameter to it, so you can force an IP update even if the values have not changed since the last run.</p>

<p>It&rsquo;s pretty self explanatory, just replace your own values from CloudFlare for the variables, and if you want to update more than one record, just copy the update block and edit it for the extra entries.</p>

<p>Hopefully someone will find this useful.</p>


  

  
  <hr>
  <footer>

  
    <section>
    <h4>Share</h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=%2fhomelab%2fcloudflare-dynamic-dns-update-script-cf-ddns-sh%2f" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://plus.google.com/share?url=%2fhomelab%2fcloudflare-dynamic-dns-update-script-cf-ddns-sh%2f" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fhomelab%2fcloudflare-dynamic-dns-update-script-cf-ddns-sh%2f" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/home?status=%2fhomelab%2fcloudflare-dynamic-dns-update-script-cf-ddns-sh%2f" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  

  
  <section class="sidebar-module">
    <h4>Links</h4>
    <ol class="list-unstyled">
      
      <li><a href="https://example.com">Link 1</a></li>
      
      <li><a href="https://example.org">Link 2</a></li>
      
    </ol>
  </section>
  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p>
      
      &copy; Christian Mohn
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
