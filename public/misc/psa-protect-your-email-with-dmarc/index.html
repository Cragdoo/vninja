<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>PSA: Protect Your Email with DMARC  &middot; vNinja.net</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="dmarc, email, Security, ">

<link rel="author" href="http://plus.google.com/+Myprofile">


<meta property="og:title" content="PSA: Protect Your Email with DMARC  &middot; vNinja.net ">
<meta property="og:site_name" content="vNinja.net"/>
<meta property="og:url" content="https://vninja.net/misc/psa-protect-your-email-with-dmarc/" />
<meta property="og:locale" content="en">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2017-04-15T22:00:08Z" />
<meta property="og:article:modified_time" content="2017-04-15T22:00:08Z" />

  
    
<meta property="og:article:tag" content="dmarc">
    
<meta property="og:article:tag" content="email">
    
<meta property="og:article:tag" content="Security">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@h0bbel" />
<meta name="twitter:creator" content="@h0bbel" />
<meta name="twitter:title" content="PSA: Protect Your Email with DMARC" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="https://vninja.net/misc/psa-protect-your-email-with-dmarc/" />
<meta name="twitter:domain" content="https://vninja.net">
  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "PSA: Protect Your Email with DMARC",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+Myprofile?rel=author"
    },
    "datePublished": "2017-04-15",
    "description": "",
    "wordCount": 653
  }
</script>
  



<link rel="canonical" href="https://vninja.net/misc/psa-protect-your-email-with-dmarc/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://vninja.net/touch-icon-144-precomposed.png">
<link rel="icon" href="https://vninja.net/favicon.png">
<meta name="generator" content="Hugo 0.42.2" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="https://vninja.net/css/bootswatch/yeti/bootstrap.min.css">


<link rel="stylesheet" href="https://vninja.net/css/font-awesome.min.css">
<link rel="stylesheet" href="https://vninja.net/css/style.css">


<link rel="stylesheet" href="https://vninja.net/css/style_custom.css">



  <link rel="stylesheet" href="https://vninja.net/css/highlight/default.css">


  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
  <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
  <script>
  window.addEventListener("load", function(){
  window.cookieconsent.initialise({
    "palette": {
      "popup": {
        "background": "#efefef",
        "text": "#404040"
      },
      "button": {
        "background": "#8ec760",
        "text": "#ffffff"
      }
    },
    "showLink": false,
    "position": "bottom-right"
  })});
  </script>
</script>




</head>
<body data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
        <a class="navbar-brand" href="https://vninja.net/">
          vNinja.net
          
          
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            <li class="">
              
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class='fa fa-bars'></i> About <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    
                      <li class="">
                        <a href="https://vninja.net/about/christian-mohn/"><i class='fa fa-child'></i> About Christian</a>
                      </li>
                    
                  </ul>
              
            </li>
            
            <li class="">
              
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class='fa fa-asterisk'></i> Site Policy <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    
                      <li class="">
                        <a href="https://vninja.net/about/privacy-policy"><i class='fa fa-asterisk'></i> Privacy Policy</a>
                      </li>
                    
                  </ul>
              
            </li>
            
            <li class="">
              
                <a href="https://vninja.net/advertising" >
                  <i class='fa fa-bank'></i>
                  Advertising
                </a>
              
            </li>
            
            <li class="">
              
                <a href="https://vninja.net/post/index.xml" >
                  <i class='fa fa-rss'></i>
                  RSS
                </a>
              
            </li>
            
            
              
          </ul>
        </div>
        
      </div>
    </nav>
  </header>





<div class="container">
  <div class="row">
    <div class="col-sm-9">


      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="title-metas text-center">

    <h1>PSA: Protect Your Email with DMARC
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2017-04-15">15 Apr, 2017</time>
</small>


  <small>
    &middot; by Christian Mohn
  
  &middot; Read in about 4 min
  &middot; (653 words)
  &middot; 


  </small>

<div class="margin-10">
  <i class="fa fa-tags"></i>
  
  <a href="https://vninja.net/tags/dmarc" class="label label-primary">dmarc</a>
  
  <a href="https://vninja.net/tags/email" class="label label-primary">email</a>
  
  <a href="https://vninja.net/tags/security" class="label label-primary">Security</a>
  


</div>

<br>
</div>

  </div>
</div>


      <div class="content">

  

  <p>In the last few months, I&rsquo;ve seen an uptick in spoofed emails being sent with my own personal email domain. Not only is this extremely annoying, but more problematic is that recipients receive spam and phishing emails from what seems to be my personal mail account, simply by spoofing the from address. I don&rsquo;t know why domain and email address has been &laquo;chosen&raquo; for this, but I guess this is fallout from the <a href="https://www.troyhunt.com/observations-and-thoughts-on-the-linkedin-data-breach/">LinkedIn breach</a> way back in 2012.</p>

<p>I didn&rsquo;t think there was much I could do about this, but a recent tweet by my friend <a href="https://twitter.com/thorsheim">Per Thorsheim</a> sent me down the rabbit hole.</p>

<p></p>

<p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">I love my hard-fail SPF &amp; DMARC email policy, and using <a href="https://twitter.com/dmarcian?ref_src=twsrc%5Etfw">@dmarcian</a> to see how spammers fail to take advantage of my domain. :D</p>&mdash; Per Thorsheim (@thorsheim) <a href="https://twitter.com/thorsheim/status/852099743908016128?ref_src=twsrc%5Etfw">April 12, 2017</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Special offer for you my friend: Coffee &amp; cake, and I&#39;ll show you HOWTO. :-D</p>&mdash; Per Thorsheim (@thorsheim) <a href="https://twitter.com/thorsheim/status/852103821090279425?ref_src=twsrc%5Etfw">April 12, 2017</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</p>

<p>So, obviously there are options available to me that I was completely unaware of. I haven&rsquo;t managed any public facing email services for 6-7 years, so I&rsquo;ve not kept up with whatever has been happening in that particular space. Also, my personal email domain has been hosted by Google since 2008, so I haven&rsquo;t really managed that either. Set and forget, right? Well, not quite.</p>

<p>So, what is this <a href="https://blog.returnpath.com/how-to-explain-dmarc-in-plain-english/">DMARC</a> thing? It stands for <em>Domain-based Message Authentication, Reporting &amp; Conformance,</em> and is a way to try and validate that emails from a given domain is being sent using one of the valid mail servers configured for that domain. In order to be able to use DMARC, you first need to first have <a href="https://en.wikipedia.org/wiki/Sender_Policy_Framework">Sender Policy Framework</a> (SPF) and <a href="https://en.wikipedia.org/wiki/DomainKeys_Identified_Mail">DomainKeys Identified Mail</a> (DKIM) configured for you domain.</p>

<p><strong>Here are the resources I used to get all of this configured for my domain:</strong></p>

<ol>
<li><p><a href="https://support.google.com/a/answer/178723?hl=en">Configure SPF records to work with G Suite</a></p></li>

<li><p><a href="https://support.google.com/a/answer/174124?hl=en&amp;ref_topic=2752442&amp;visit_id=1-636278646523486675-1928954652&amp;rd=1">Authenticate email with DKIM</a></p></li>

<li><p><a href="https://support.google.com/a/answer/2466563?hl=en">Add a DMARC record</a></p></li>
</ol>

<p><a href="https://vninja.net/img/Screenshot-2017-04-15-23.41.40.png"><img src="https://vninja.net/img/Screenshot-2017-04-15-23.41.40-300x247.png" alt="" /></a>Less than 24 hours after configuring everything, I received my first <a href="https://blog.returnpath.com/how-to-read-your-first-dmarc-reports-part-1/">DMARC Aggregate Report</a> which is basically an XML file showing what has been going on.</p>

<p>Since this file is a bit hard to read on it&rsquo;s own, I uploaded it to <a href="https://app.dmarcanalyzer.com/guide">DMARC Analyzer</a>, and even though I knew a lot of email was being send with my email address as the reply to address, I was quite surprised to see that in less then 24 hours after I set up the DMARC DNS records, **a total of 295 emails had been rejected by mail servers all over the world, most of them sent from mail servers in Vietnam. **I_ do not_ send 295 emails a day with my personal email account, and absolutely none of them from Vietnam. In fact, during the time-frame of this initial aggregate report, I sent zero emails - as seen in the screenshot from the report.</p>

<p>I have now configured my DMARC DNS txt records to send emails directly to  DMARC Analyzer, and I&rsquo;m looking forward to seeing how these numbers add up over time. I&rsquo;m currently on a free trial plan, and looking to evaluate which of the available DMARC Analyzers out there I want to use permanently.</p>

<p>At least now receiving email servers have a fighting chance of rejecting fake emails from my domain, since it&rsquo;s now possible to verify that they are sent through a valid source.</p>

<p><strong>Even if you don&rsquo;t have problems with someone spoofing your email addresses, please spend 10 minutes configuring this for your domain as well. You never know when something like this might occur, and it&rsquo;s better to build your defences <em>before</em> you get attacked. That way you stand a chance of stopping it before it gets as ugly as it did in my case.</strong></p>

<p>And <a href="https://twitter.com/thorsheim">Per</a>, you are a gentleman and a scholar. Even if I did manage to investigate and set this up on my own, cake and coffee is still on me!</p>
</div>


      <footer>
  


  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://vninja.net/virtualization/vmware-vsan-6-6-whats-new-for-day-2-operations/" title="VMware vSAN 6.6 - What&#39;s New for Day 2 Operations?">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="https://vninja.net/osx/making-royal-tsx-even-more-awesome/" title="Making Royal TSX Even More Awesome">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  

</div>

</footer>

    </div>
    
      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
        <div>
  

    <div class="section">
      <h4>Sponsors</h4>
      <div class="ads" id="veeam">
        <ins class='dcmads' style='display:inline-block;width:250px;height:250px' data-dcm-placement='N410401.1772869VNINJA.NET/B10464038.145283149' data-dcm-rendering-mode='iframe' data-dcm-https-only data-dcm-resettable-device-id='' data-dcm-app-id=''> <script src='https://www.googletagservices.com/dcm/dcmads.js'></script> </ins>
      </div>
      <div class="ads" id="turbonomic">
        <a href="http://turbonomic.com/resources/hybrid-cloud-intelligent-bursting-aws-microsoft-azure/?utm_source=vninja&amp;utm_medium=banner-ad&amp;utm_campaign=wp-path-to-hybrid-cloud&amp;">
          <img width="250" height="250" src="https://vninja.net/ads/wp-intelligent-bursting-aws-azure-250x250.png"></a>
      </div>
      <div class="ads" id="goliath">
        <a href="http://goliathtechnologies.com/performance-monitoring/application-desktop-virtualization/vmware-horizon-view-monitoring/?utm_source=VNINJA&#038;utm_medium=PARTNER-MKTG&#038;utm_campaign=PARTNER-MKTG-VNINJA"><img width="250" height="250" src='https://vninja.net/ads/VMwareHorizon.jpg' alt='' title='VMwareHorizon' /></a>
      </div>
      <div class="ads" id="vembu">
        <a href="https://www.vembu.com/free-vm-backup/?utm_source=vninja.net&#038;utm_medium=Banner"><img width="250" height="250" src='https://vninja.net/ads/vembu250-250.gif'/></a>
      </div>


    </div>

    <hr>
    
      
      
      <div class="section">


      </div>
      
    
      
      
      <div class="section">


      </div>
      
    

</div>

      </div>
    
  </div>
</div>
    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

<a href="https://vninja.net/disclaimer/">Disclaimer</a> <i>&middot;</i>

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
  Built with Hugo and lots of <i class='fa fa-coffee'></i>

</small>
</div>


    
<div class="container copyright">
    <small>
  &copy; 2018 Christian Mohn

  </small>
</div>




        </div>
    </div>
  </div>
</footer>

    

<script src="https://vninja.net/js/jquery.min.js"></script>
<script src="https://vninja.net/js/bootstrap.min.js"></script>


<script src="https://vninja.net/js/highlight.pack.js"></script>
<script src="https://vninja.net/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
  var _gaq=[['_setAccount','UA-121910549-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script>
var ENABLE_POPOVER = "", 
EXPIRE_COOKIE = "", 
SHOW_MODAL_TIMEOUT = "", 
MOUSE_LEAVE = "", 
MODAL_SIZE = "", 
POST_URL = "", 
SIGNUP_HEADER = "",
HEADER_IMAGE = "",
IMG_DESCRIPTION = "",
SIGNUP_TEXT = "",
INPUT_PLACEHOLDER = "",
SUBMIT_BUTTON = "",
SUCCESS_MESSAGE = "",
ERROR_MESSAGE = "",
OPTIN = "",
COOKIE_NAME = "",
CONTENTLANGUAGE = ""; 
</script>










  </body>
</html>

